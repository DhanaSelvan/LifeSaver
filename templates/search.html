{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search for a Donor - Life Saver</title>
    <link rel="stylesheet" href="{%static 'Bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{%static 'css/search.css' %}">
    <link rel="icon" href="{% static 'images/blood-icon.png' %}">
</head>
<body>
    <div class="preloader"></div>
    <!-- navigation bar -->
    <nav class="navbar navbar-expand-lg fixed-top py-2 bg-dark">
        <div class="container">
            <div class="nav-right">
                <a class="navbar-brand heading text-light" href="#">Life Saver</a>
            </div>
            <div id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link body text-light" href="{%url 'Home'%}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor"
                                class="bi bi-skip-backward-fill" viewBox="0 0 16 16">
                                <path
                                    d="M.5 3.5A.5.5 0 0 0 0 4v8a.5.5 0 0 0 1 0V8.753l6.267 3.636c.54.313 1.233-.066 1.233-.697v-2.94l6.267 3.636c.54.314 1.233-.065 1.233-.696V4.308c0-.63-.693-1.01-1.233-.696L8.5 7.248v-2.94c0-.63-.692-1.01-1.233-.696L1 7.248V4a.5.5 0 0 0-.5-.5z" />
                            </svg></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Navigation bar end -->
    <!-- Search Panel start -->
    <div class="container searchcontainer py-2">
        <p class="title text-center">Search for a Donor</p>
        <hr>
        <form action="" method="post">
            {% csrf_token %}
            <div class="search-option-container">
                <label for="choice" class="detail">Search By</label><br>
                <!-- <select name="choice" id="choice" onchange="getChoice()">
                    <option value="">Select</option> -->
                    <!-- <option value="state">State</option>
                    <option value="city">City</option>
                    <option value="bldGroup">Blood Group</option> -->
                <!-- </select> -->
                <!-- <select name="choiceOption" id="choiceOption">
                    <option value="">Select</option> -->
                    <!-- <option value=""></option> -->
                <!-- </select> -->

                <fieldset class="bloodGroupm text-left">
                    <label for="bldGroup" class="details">Blood Group <span>:</span></label>
                    <select name="bldgroup" id="bldGroup" class="input" >
                        <option value="">Select Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="B+">B+</option>
                        <option value="O+">O+</option>
                        <option value="AB+">AB+</option>
                        <option value="A-">A-</option>
                        <option value="B-">B-</option>
                        <option value="O-">O-</option>
                        <option value="AB-">AB-</option>
                    </select>
                </fieldset>
                <fieldset class="stateGroup">
                    <label for="state" class="details">State <span>:</span></label>
                    <select name="state" id="state" class="input w-50" onchange="loadDistrict()">
                        <option value="">Select State</option>
                    </select>
                </fieldset>
                <fieldset class="disGroup">
                    <label for="inputDistrict" class="details">City <span>:</span></label>
                    <select name="city" id="inputDistrict" class="input">
                        <option value="">Select City</option>
                    </select>
                </fieldset>
                <button class="btn btn-success">Show</button>
                <a href="{%url 'Search'%}" class="btn btn-success">Show all</a>
            </div>
            {% if messages %}
                        {% for message in messages %}
                        <div class="alert alert-{{message.tags}} my-2">
                            {{message}}
                        </div>
                        {% endfor %} 
                    {% endif %}
        </form>
        <hr>
        <div class="table-responsive">
            <caption><h5 class="details">Total Donors = {{total}}</h5></caption>
            <table class="table">
                <tr class="bg-danger text-light">
                    <th>Name</th>
                    <th>Blood Group</th>
                    <th>Phone Number</th>
                    <th>City</th>
                </tr>
                {% for data in instance %}
                <tr>
                    <td>{{data.Fullname}}</td>
                    <td>{{data.BloodGroup}}</td>
                    <td>{{data.Contact}}</td>
                    <td>{{data.District}}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <!-- Search panel end -->

    <script src="{% static 'Bootstrap/js/jquery.js' %}"></script>
    <script src="{% static 'Bootstrap/js/bootstrap.min.js' %}"></script>
    <script>
        // initialization for loader
        let loader = document.querySelector(".preloader");
  
        window.addEventListener("load", () => {
            loader.style.display = "none";
        })
    </script>
    <script src="{% static 'js/search.js' %}"></script>
</body>
</html>